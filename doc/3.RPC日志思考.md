第二次重构的过程中，有一个疑问。一直缠绕在脑子里，就是日志该怎么打？

RPC是一个远程调用过程，而这个过程中，如果出现错误，如何及时定位是一个很大的问题，同时也就涉及到日志该如何打。

带着疑问我去调试了一下，guide-rpc-framework 当service方法报错后会怎么返回。
结果是service报错，但是client端任何异常也没有。感觉这点上就有点不合理了，client一点感知也没有。

下面是写在service反射调用的思考：

```java
    //todo 返回处理
    // 这里有个疑问——调用报错到底需要不需要返回错误？返回什么样得错误？
    // 这个错误，到底在客户端应该是一个怎么样得表现形式？
    // 在server端又应该是怎么样得表现形式？
    // 我的理解是 感觉客户端只需要知道是那个RPC接口出现了问题就好了
    // 当知道是那个RPC接口后，再到对应得接口去服务去查询日志即可
    // 带着疑问搜索了一下-》https://tech.antfin.com/docs/2/46953 蚂蚁金服给了一个定义
    // 总结来看，更具体化了我的想法：
    // RPC返回，不返回具体错误信息，只返回概要（成功、RPC逻辑错误，业务逻辑错误）
    // 真正的错误详情再service提供端打印出日志
```

查了一下https://tech.antfin.com/docs/2/46953 发现蚂蚁金服给的定义最为清晰。

总结了一下，RPC过程中异常分为两种：

- 客户端异常
    - 反射过程中
    - time out
- 服务端异常
    - 反射过程
    - 业务方式执行过程
    
基于此，蚂蚁金服给了一个我比较认可的标准，将错误分为RPC异常与业务异常。

注意这只是错误返回码，将错误返回回去让客户端能够知道，是什么问题，具体的异常还是要在具体业务服务上打印。

----

刚刚观察Dubbo的异常处理，是错误进行传递的，也就是说两边都会打出异常。

----

我目前的处理是，只有service端打出异常，client是错误返回，进行判断打印日志，和抛出异常（重新封装的异常）。
